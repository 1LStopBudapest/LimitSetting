import os, sys
import collections as coll

#Eras = ['2016PreVFP', '2016PostVFP', '2017', '2018']
Era = '2018'
BKmode = 'new' #for latest mode put 'new', to consider all BKs sperately put 'old'
PromptNorm = True # when its true, Prompt BK normalisation will be done using CR bins

if BKmode == 'old':
    bkgs = ['WJets', 'ttbar', 'SingleTop', 'DY', 'Zinv', 'QCD', 'VV', 'TTX']
    sname = {'ttbar':'TTbar', 'SingleTop':'ST', 'WJets':'WJetsToLNu', 'TTX':'TTV', 'Zinv':'ZJetsToNuNu', 'DY':'DYJetsToLL', 'QCD':'QCD', 'VV':'VV', 'Data':'MET_Data'}
else:
    bkgs = ['WJets', 'ttbar', 'OtherPrompt', 'Fake']
    sname = {'WJets':'WJets', 'ttbar':'ttbar', 'OtherPrompt':'OtherPrompt', 'Fake':'Fake', 'Data':'MET_Data'}

#2016 prompt
signals2016 = ['1000_920', '1000_930', '1000_940', '1000_950', '1000_960', '1000_970', '1000_975', '1000_980', '1000_985', '1000_990', '1025_1000', '1025_1005', '1025_1010', '1025_1015', '1025_945', '1025_955', '1025_965', '1025_975', '1025_985', '1025_995', '1052_1000', '1052_1010', '1052_1020', '1052_1025', '1052_1030', '1052_1035', '1052_1040', '1052_970', '1052_980', '1052_990', '1076_1005', '1076_1015', '1076_1025', '1076_1035', '1076_1045', '1076_1050', '1076_1055', '1076_1060', '1076_1065', '1076_995', '1100_1020', '1100_1030', '1100_1040', '1100_1050', '1100_1060', '1100_1070', '1100_1075', '1100_1080', '1100_1085', '1100_1090', '250_170', '250_180', '250_190', '250_200', '250_210', '250_220', '250_225', '250_230', '250_235', '250_240', '275_195', '275_205', '275_215', '275_225', '275_235', '275_245', '275_250', '275_255', '275_260', '275_265', '300_220', '300_230', '300_240', '300_250', '300_260', '300_270', '300_275', '300_280', '300_285', '300_290', '325_245', '325_255', '325_265', '325_275', '325_285', '325_295', '325_300', '325_305', '325_310', '325_315', '350_270', '350_280', '350_290', '350_300', '350_310', '350_320', '350_325', '350_330', '350_335', '350_340', '375_295', '375_305', '375_315', '375_325', '375_335', '375_345', '375_350', '375_355', '375_360', '375_365', '400_320', '400_330', '400_340', '400_350', '400_360', '400_370', '400_375', '400_380', '400_385', '400_390', '425_345', '425_355', '425_365', '425_375', '425_385', '425_395', '425_400', '425_405', '425_410', '425_415', '450_370', '450_380', '450_390', '450_400', '450_410', '450_420', '450_425', '450_430', '450_435', '450_440', '475_395', '475_405', '475_415', '475_425', '475_435', '475_445', '475_450', '475_455', '475_460', '475_465', '500_420', '500_430', '500_440', '500_450', '500_460', '500_470', '500_475', '500_480', '500_485', '500_490', '526_445', '526_455', '526_465', '526_475', '526_485', '526_495', '526_500', '526_505', '526_510', '526_515', '550_470', '550_480', '550_490', '550_500', '550_510', '550_520', '550_525', '550_530', '550_535', '550_540', '576_495', '576_505', '576_515', '576_525', '576_535', '576_545', '576_550', '576_555', '576_560', '576_565', '600_520', '600_530', '600_540', '600_550', '600_560', '600_570', '600_575', '600_580', '600_585', '600_590', '626_545', '626_555', '626_565', '626_575', '626_585', '626_595', '626_600', '626_605', '626_610', '626_615', '650_570', '650_580', '650_590', '650_600', '650_610', '650_620', '650_625', '650_630', '650_635', '650_640', '676_595', '676_605', '676_615', '676_625', '676_635', '676_645', '676_650', '676_655', '676_660', '676_665', '700_620', '700_630', '700_640', '700_650', '700_660', '700_670', '700_675', '700_680', '700_685', '700_690', '726_645', '726_655', '726_665', '726_675', '726_685', '726_695', '726_700', '726_705', '726_710', '726_715', '750_670', '750_680', '750_690', '750_700', '750_710', '750_720', '750_725', '750_730', '750_735', '750_740', '776_695', '776_705', '776_715', '776_725', '776_735', '776_745', '776_750', '776_755', '776_760', '776_765', '800_720', '800_730', '800_740', '800_750', '800_760', '800_770', '800_775', '800_780', '800_785', '800_790', '826_745', '826_755', '826_765', '826_775', '826_785', '826_795', '826_800', '826_805', '826_810', '826_815', '850_770', '850_780', '850_790', '850_800', '850_810', '850_820', '850_825', '850_830', '850_835', '850_840', '876_795', '876_805', '876_815', '876_825', '876_835', '876_845', '876_850', '876_855', '876_860', '876_865', '900_820', '900_830', '900_840', '900_850', '900_860', '900_870', '900_875', '900_880', '900_885', '900_890', '926_845', '926_855', '926_865', '926_875', '926_885', '926_895', '926_900', '926_905', '926_910', '926_915', '950_870', '950_880', '950_890', '950_900', '950_910', '950_920', '950_925', '950_930', '950_935', '950_940', '976_895', '976_905', '976_915', '976_925', '976_935', '976_945', '976_950', '976_955', '976_960', '976_965']

#2017 prompt
signals2017 = ['1000_920', '1000_930', '1000_940', '1000_950', '1000_960', '1000_970', '1000_975', '1000_980', '1000_985', '1000_990', '1025_1000', '1025_1005', '1025_1010', '1025_1015', '1025_945', '1025_955', '1025_965', '1025_975', '1025_985', '1025_995', '1052_1000', '1052_1010', '1052_1020', '1052_1025', '1052_1030', '1052_1035', '1052_1040', '1052_970', '1052_980', '1052_990', '1076_1005', '1076_1015', '1076_1025', '1076_1035', '1076_1045', '1076_1050', '1076_1055', '1076_1060', '1076_1065', '1076_995', '1100_1020', '1100_1030', '1100_1040', '1100_1050', '1100_1060', '1100_1070', '1100_1075', '1100_1080', '1100_1085', '1100_1090', '250_170', '250_180', '250_190', '250_200', '250_210', '250_220', '250_225', '250_230', '250_235', '250_240', '275_195', '275_205', '275_215', '275_225', '275_235', '275_245', '275_250', '275_255', '275_260', '275_265', '300_220', '300_230', '300_240', '300_250', '300_260', '300_270', '300_275', '300_280', '300_285', '300_290', '325_245', '325_255', '325_265', '325_275', '325_285', '325_295', '325_300', '325_305', '325_310', '325_315', '350_270', '350_280', '350_290', '350_300', '350_310', '350_320', '350_325', '350_330', '350_335', '350_340', '375_295', '375_305', '375_315', '375_325', '375_335', '375_345', '375_350', '375_355', '375_360', '375_365', '400_320', '400_330', '400_340', '400_350', '400_360', '400_370', '400_375', '400_380', '400_385', '400_390', '425_345', '425_355', '425_365', '425_375', '425_385', '425_395', '425_400', '425_405', '425_410', '425_415', '450_370', '450_380', '450_390', '450_400', '450_410', '450_420', '450_425', '450_430', '450_435', '450_440', '475_395', '475_405', '475_415', '475_425', '475_435', '475_445', '475_450', '475_455', '475_460', '475_465', '500_420', '500_430', '500_440', '500_450', '500_460', '500_470', '500_475', '500_480', '500_485', '500_490', '526_445', '526_455', '526_465', '526_475', '526_485', '526_495', '526_500', '526_505', '526_510', '526_515', '550_470', '550_480', '550_490', '550_500', '550_510', '550_520', '550_525', '550_530', '550_535', '550_540', '576_495', '576_505', '576_515', '576_525', '576_535', '576_545', '576_550', '576_555', '576_560', '576_565', '600_520', '600_530', '600_540', '600_550', '600_560', '600_570', '600_575', '600_580', '600_585', '600_590', '626_545', '626_555', '626_565', '626_575', '626_585', '626_595', '626_600', '626_605', '626_610', '626_615', '650_570', '650_580', '650_590', '650_600', '650_610', '650_620', '650_625', '650_630', '650_635', '650_640', '676_595', '676_605', '676_615', '676_625', '676_635', '676_645', '676_650', '676_655', '676_660', '676_665', '700_620', '700_630', '700_640', '700_650', '700_660', '700_670', '700_675', '700_680', '700_685', '700_690', '726_645', '726_655', '726_665', '726_675', '726_685', '726_695', '726_700', '726_705', '726_710', '726_715', '750_670', '750_680', '750_690', '750_700', '750_710', '750_720', '750_725', '750_730', '750_735', '750_740', '776_695', '776_705', '776_715', '776_725', '776_735', '776_745', '776_750', '776_755', '776_760', '776_765', '800_720', '800_730', '800_740', '800_750', '800_760', '800_770', '800_775', '800_780', '800_785', '800_790', '826_745', '826_755', '826_765', '826_775', '826_785', '826_795', '826_800', '826_805', '826_810', '826_815', '850_770', '850_780', '850_790', '850_800', '850_810', '850_820', '850_825', '850_830', '850_835', '850_840', '876_795', '876_805', '876_815', '876_825', '876_835', '876_845', '876_850', '876_855', '876_860', '876_865', '900_820', '900_830', '900_840', '900_850', '900_860', '900_870', '900_875', '900_880', '900_885', '900_890', '926_845', '926_855', '926_865', '926_875', '926_885', '926_895', '926_900', '926_905', '926_910', '926_915', '950_870', '950_880', '950_890', '950_900', '950_910', '950_920', '950_925', '950_930', '950_935', '950_940', '976_895', '976_905', '976_915', '976_925', '976_935', '976_945', '976_950', '976_955', '976_960', '976_965']
#signals2017 = ['1000_920', '1000_930', '1000_940', '1000_950', '1000_960', '1000_970', '1000_975', '1000_980', '1000_985', '1000_990', '1025_1000', '1025_1005', '1025_1010', '1025_1015', '1025_945', '1025_955', '1025_965', '1025_975', '1025_985', '1025_995', '1076_1005', '1076_1015', '1076_1025', '1076_1035', '1076_1045', '1076_1050', '1076_1055', '1076_1060', '1076_1065', '1076_995', '1100_1020', '1100_1030', '1100_1040', '1100_1050', '1100_1060', '1100_1070', '1100_1075', '1100_1080', '1100_1085', '1100_1090', '250_170', '250_180', '250_190', '250_200', '250_210', '250_220', '250_225', '250_230', '250_235', '250_240', '275_195', '275_205', '275_215', '275_225', '275_235', '275_245', '275_250', '275_255', '275_260', '275_265', '300_220', '300_230', '300_240', '300_250', '300_260', '300_270', '300_275', '300_280', '300_285', '300_290', '325_245', '325_255', '325_265', '325_275', '325_285', '325_295', '325_300', '325_305', '325_310', '325_315', '350_270', '350_280', '350_290', '350_300', '350_310', '350_320', '350_325', '350_330', '350_335', '350_340', '375_295', '375_305', '375_315', '375_325', '375_335', '375_345', '375_350', '375_355', '375_360', '375_365', '400_320', '400_330', '400_340', '400_350', '400_360', '400_370', '400_375', '400_380', '400_385', '400_390', '425_345', '425_355', '425_365', '425_375', '425_385', '425_395', '425_400', '425_405', '425_410', '425_415', '450_370', '450_380', '450_390', '450_400', '450_410', '450_420', '450_425', '450_430', '450_435', '450_440', '475_395', '475_405', '475_415', '475_425', '475_435', '475_445', '475_450', '475_455', '475_460', '475_465', '500_420', '500_430', '500_440', '500_450', '500_460', '500_470', '500_475', '500_480', '500_485', '500_490', '526_445', '526_455', '526_465', '526_475', '526_485', '526_495', '526_500', '526_505', '526_510', '526_515', '550_470', '550_480', '550_490', '550_500', '550_510', '550_520', '550_525', '550_530', '550_535', '550_540', '576_495', '576_505', '576_515', '576_525', '576_535', '576_545', '576_550', '576_555', '576_560', '576_565', '600_520', '600_530', '600_540', '600_550', '600_560', '600_570', '600_575', '600_580', '600_585', '600_590', '626_545', '626_555', '626_565', '626_575', '626_585', '626_595', '626_600', '626_605', '626_610', '626_615', '650_570', '650_580', '650_590', '650_600', '650_610', '650_620', '650_625', '650_630', '650_635', '650_640', '676_595', '676_605', '676_615', '676_625', '676_635', '676_645', '676_650', '676_655', '676_660', '676_665', '700_620', '700_630', '700_640', '700_650', '700_660', '700_670', '700_675', '700_680', '700_685', '700_690', '726_645', '726_655', '726_665', '726_675', '726_685', '726_695', '726_700', '726_705', '726_710', '726_715', '750_670', '750_680', '750_690', '750_700', '750_710', '750_720', '750_725', '750_730', '750_735', '750_740', '776_695', '776_705', '776_715', '776_725', '776_735', '776_745', '776_750', '776_755', '776_760', '776_765', '800_720', '800_730', '800_740', '800_750', '800_760', '800_770', '800_775', '800_780', '800_785', '800_790', '826_745', '826_755', '826_765', '826_775', '826_785', '826_795', '826_800', '826_805', '826_810', '826_815', '850_770', '850_780', '850_790', '850_800', '850_810', '850_820', '850_825', '850_830', '850_835', '850_840', '876_795', '876_805', '876_815', '876_825', '876_835', '876_845', '876_850', '876_855', '876_860', '876_865', '900_820', '900_830', '900_840', '900_850', '900_860', '900_870', '900_875', '900_880', '900_885', '900_890', '926_845', '926_855', '926_865', '926_875', '926_885', '926_895', '926_900', '926_905', '926_910', '926_915', '950_870', '950_880', '950_890', '950_900', '950_910', '950_920', '950_925', '950_930', '950_935', '950_940', '976_895', '976_905', '976_915', '976_925', '976_935', '976_945', '976_950', '976_955', '976_960', '976_965']

Msignals2017 = ['300_285', '250_230', '350_330', '500_470', '550_530', '1000_985', '600_580', '876_855', '826_810', '1100_1085', '750_740', '325_315', '576_550', '800_780', '576_515', '325_305', '826_815', '800_790', '400_385', '626_605', '776_760', '400_320', '876_850', '726_645', '450_430', '1025_1015', '900_875', '350_270', '250_240', '900_880', '550_535', '776_750', '850_835', '425_405', '626_610', '600_520', '726_710', '650_625', '526_500', '650_630', '526_505', '900_870', '250_235', '926_900', '950_930', '250_190', '1076_1065', '1025_1010', '650_635', '275_260', '626_615', '375_350', '1000_975', '375_365', '500_490', '876_865', '450_435', '750_730', '275_265', '300_240', '900_890', '950_870', '776_765', '926_910', '976_955', '350_335', '500_485', '275_255', '250_200', '576_555', '700_690', '900_885', '676_660', '926_915', '576_565', '726_705', '475_425', '1000_990', '600_585', '700_685', '325_310', '676_655', '350_325', '1025_1005', '275_235', '1025_1000', '700_620', '600_575', '250_210', '650_640', '750_735', '275_225', '300_280', '800_785', '425_410', '550_540', '776_755', '300_250', '550_525', '400_390', '475_455', '450_440', '950_940', '1100_1080', '275_215', '526_510', '325_245', '826_800', '800_775', '950_935', '425_415', '400_380', '350_340', '526_485', '850_830', '676_665', '976_950', '450_390', '275_205', '325_255', '1100_1075', '1000_980', '826_795', '976_960', '375_360', '1076_1060', '850_825', '275_195', '375_355', '950_925', '250_220', '1100_1070', '250_170', '850_840', '1076_1050', '976_965', '1076_1055', '475_460', '750_725', '325_275', '576_560', '300_290', '726_715', '526_515', '826_805', '500_475', '926_905', '350_290', '1076_1045', '500_480', '475_465', '700_680', '876_860', '1100_1090', '600_590', '250_225']

#2018 prompt
signals2018 = ['1000_920', '1000_930', '1000_940', '1000_950', '1000_960', '1000_970', '1000_975', '1000_980', '1000_985', '1000_990', '1025_1000', '1025_1005', '1025_1010', '1025_1015', '1025_945', '1025_955', '1025_965', '1025_975', '1025_985', '1025_995', '1052_1000', '1052_1010', '1052_1020', '1052_1025', '1052_1030', '1052_1035', '1052_1040', '1052_970', '1052_980', '1052_990', '1076_1005', '1076_1015', '1076_1025', '1076_1035', '1076_1045', '1076_1050', '1076_1055', '1076_1060', '1076_1065', '1076_995', '1100_1020', '1100_1030', '1100_1040', '1100_1050', '1100_1060', '1100_1070', '1100_1075', '1100_1080', '1100_1085', '1100_1090', '250_170', '250_180', '250_190', '250_200', '250_210', '250_220', '250_225', '250_230', '250_235', '250_240', '275_195', '275_205', '275_215', '275_225', '275_235', '275_245', '275_250', '275_255', '275_260', '275_265', '300_220', '300_230', '300_240', '300_250', '300_260', '300_270', '300_275', '300_280', '300_285', '300_290', '325_245', '325_255', '325_265', '325_275', '325_285', '325_295', '325_300', '325_305', '325_310', '325_315', '350_270', '350_280', '350_290', '350_300', '350_310', '350_320', '350_325', '350_330', '350_335', '350_340', '375_295', '375_305', '375_315', '375_325', '375_335', '375_345', '375_350', '375_355', '375_360', '375_365', '400_320', '400_330', '400_340', '400_350', '400_360', '400_370', '400_375', '400_380', '400_385', '400_390', '425_345', '425_355', '425_365', '425_375', '425_385', '425_395', '425_400', '425_405', '425_410', '425_415', '450_370', '450_380', '450_390', '450_400', '450_410', '450_420', '450_425', '450_430', '450_435', '450_440', '475_395', '475_405', '475_415', '475_425', '475_435', '475_445', '475_450', '475_455', '475_460', '475_465', '500_420', '500_430', '500_440', '500_450', '500_460', '500_470', '500_475', '500_480', '500_485', '500_490', '526_445', '526_455', '526_465', '526_475', '526_485', '526_495', '526_500', '526_505', '526_510', '526_515', '550_470', '550_480', '550_490', '550_500', '550_510', '550_520', '550_525', '550_530', '550_535', '550_540', '576_495', '576_505', '576_515', '576_525', '576_535', '576_545', '576_550', '576_555', '576_560', '576_565', '600_520', '600_530', '600_540', '600_550', '600_560', '600_570', '600_575', '600_580', '600_585', '600_590', '626_545', '626_555', '626_565', '626_575', '626_585', '626_595', '626_600', '626_605', '626_610', '626_615', '650_570', '650_580', '650_590', '650_600', '650_610', '650_620', '650_625', '650_630', '650_635', '650_640', '676_595', '676_605', '676_615', '676_625', '676_635', '676_645', '676_650', '676_655', '676_660', '676_665', '700_620', '700_630', '700_640', '700_650', '700_660', '700_670', '700_675', '700_680', '700_685', '700_690', '726_645', '726_655', '726_665', '726_675', '726_685', '726_695', '726_700', '726_705', '726_710', '726_715', '750_670', '750_680', '750_690', '750_700', '750_710', '750_720', '750_725', '750_730', '750_735', '750_740', '776_695', '776_705', '776_715', '776_725', '776_735', '776_745', '776_750', '776_755', '776_760', '776_765', '800_720', '800_730', '800_740', '800_750', '800_760', '800_770', '800_775', '800_780', '800_785', '800_790', '826_745', '826_755', '826_765', '826_775', '826_785', '826_795', '826_800', '826_805', '826_810', '826_815', '850_770', '850_780', '850_790', '850_800', '850_810', '850_820', '850_825', '850_830', '850_835', '850_840', '876_795', '876_805', '876_815', '876_825', '876_835', '876_845', '876_850', '876_855', '876_860', '876_865', '900_820', '900_830', '900_840', '900_850', '900_860', '900_870', '900_875', '900_880', '900_885', '900_890', '926_845', '926_855', '926_865', '926_875', '926_885', '926_895', '926_900', '926_905', '926_910', '926_915', '950_870', '950_880', '950_890', '950_900', '950_910', '950_920', '950_925', '950_930', '950_935', '950_940', '976_895', '976_905', '976_915', '976_925', '976_935', '976_945', '976_950', '976_955', '976_960', '976_965']

#signals2018 = ['1000_920', '1000_930', '1000_940', '1000_950', '1000_960', '1000_970', '1000_975', '1000_980', '1000_985', '1000_990', '1025_1000', '1025_1005', '1025_1010', '1025_1015', '1025_945', '1025_955', '1025_965', '1025_975', '1025_985', '1025_995', '1076_1005', '1076_1015', '1076_1025', '1076_1035', '1076_1045', '1076_1050', '1076_1055', '1076_1060', '1076_1065', '1076_995', '1100_1020', '1100_1030', '1100_1040', '1100_1050', '1100_1060', '1100_1070', '1100_1075', '1100_1080', '1100_1085', '1100_1090', '250_170', '250_180', '250_190', '250_200', '250_210', '250_220', '250_225', '250_230', '250_235', '250_240', '275_195', '275_205', '275_215', '275_225', '275_235', '275_245', '275_250', '275_255', '275_260', '275_265', '300_220', '300_230', '300_240', '300_250', '300_260', '300_270', '300_275', '300_280', '300_285', '300_290', '325_245', '325_255', '325_265', '325_275', '325_285', '325_295', '325_300', '325_305', '325_310', '325_315', '350_270', '350_280', '350_290', '350_300', '350_310', '350_320', '350_325', '350_330', '350_335', '350_340', '375_295', '375_305', '375_315', '375_325', '375_335', '375_345', '375_350', '375_355', '375_360', '375_365', '400_320', '400_330', '400_340', '400_350', '400_360', '400_370', '400_375', '400_380', '400_385', '400_390', '425_345', '425_355', '425_365', '425_375', '425_385', '425_395', '425_400', '425_405', '425_410', '425_415', '450_370', '450_380', '450_390', '450_400', '450_410', '450_420', '450_425', '450_430', '450_435', '450_440', '475_395', '475_405', '475_415', '475_425', '475_435', '475_445', '475_450', '475_455', '475_460', '475_465', '500_420', '500_430', '500_440', '500_450', '500_460', '500_470', '500_475', '500_480', '500_485', '500_490', '526_445', '526_455', '526_465', '526_475', '526_485', '526_495', '526_500', '526_505', '526_510', '526_515', '550_470', '550_480', '550_490', '550_500', '550_510', '550_520', '550_525', '550_530', '550_535', '550_540', '576_495', '576_505', '576_515', '576_525', '576_535', '576_545', '576_550', '576_555', '576_560', '576_565', '600_520', '600_530', '600_540', '600_550', '600_560', '600_570', '600_575', '600_580', '600_585', '600_590', '626_545', '626_555', '626_565', '626_575', '626_585', '626_595', '626_600', '626_605', '626_610', '626_615', '650_570', '650_580', '650_590', '650_600', '650_610', '650_620', '650_625', '650_630', '650_635', '650_640', '676_595', '676_605', '676_615', '676_625', '676_635', '676_645', '676_650', '676_655', '676_660', '676_665', '700_620', '700_630', '700_640', '700_650', '700_660', '700_670', '700_675', '700_680', '700_685', '700_690', '726_645', '726_655', '726_665', '726_675', '726_685', '726_695', '726_700', '726_705', '726_710', '726_715', '750_670', '750_680', '750_690', '750_700', '750_710', '750_720', '750_725', '750_730', '750_735', '750_740', '776_695', '776_705', '776_715', '776_725', '776_735', '776_745', '776_750', '776_755', '776_760', '776_765', '800_720', '800_730', '800_740', '800_750', '800_760', '800_770', '800_775', '800_780', '800_785', '800_790', '826_745', '826_755', '826_765', '826_775', '826_785', '826_795', '826_800', '826_805', '826_810', '826_815', '850_770', '850_780', '850_790', '850_800', '850_810', '850_820', '850_825', '850_830', '850_835', '850_840', '876_795', '876_805', '876_815', '876_825', '876_835', '876_845', '876_850', '876_855', '876_860', '876_865', '900_820', '900_830', '900_840', '900_850', '900_860', '900_870', '900_875', '900_880', '900_885', '900_890', '926_845', '926_855', '926_865', '926_875', '926_885', '926_895', '926_900', '926_905', '926_910', '926_915', '950_870', '950_880', '950_890', '950_900', '950_910', '950_920', '950_925', '950_930', '950_935', '950_940', '976_895', '976_905', '976_915', '976_925', '976_935', '976_945', '976_950', '976_955', '976_960', '976_965']
Msignals2018 = ['1000_985', '1025_1005', '1025_1015', '1076_1060', '1076_1065', '1100_1090', '250_170', '250_190', '250_220', '250_225', '250_230', '275_205', '275_260', '275_265', '300_220', '300_250', '300_275', '300_280', '325_265', '325_295', '325_305', '350_270', '350_310', '350_335', '375_295', '375_360', '400_320', '400_380', '400_385', '425_355', '450_370', '475_395', '526_465', '526_510', '550_540', '626_615', '826_785', '826_815', '850_840', '876_865', '900_885', '900_890', '926_915', '950_870', '950_935', '950_940', '976_965']

Signals = {
    '2016PreVFP': signals2016,
    '2016PostVFP': signals2016,
    '2017': signals2017,
    '2018': signals2018
    }

data = ['Data']

sysUnc = ['lumi_13TeV', 'lumi_13TeV_correlated', 'lumi_13TeV_1718', 'ps_isr', 'CMS_pileup_13TeV', 'CMS_leptonSF', 'CMS_btag_fixedWP_light', 'CMS_btag_fixedWP_light_correlated','CMS_btag_fixedWP_bc', 'CMS_btag_fixedWP_bc_correlated', 'CMS_wPt', 'CMS_scale_j', 'CMS_res_j', 'CMS_eff_prefiring', 'CMS_softbtagSF', 'XSec']
sysname = {'lumi_13TeV': 'Lumi', 'lumi_13TeV_correlated': 'LumiCor', 'lumi_13TeV_1718': 'LumiCor1718', 'ps_isr':'nISR', 'CMS_pileup_13TeV':'PU', 'CMS_leptonSF':'leptonSF', 'CMS_btag_fixedWP_light':'BTag_l', 'CMS_btag_fixedWP_light_correlated':'BTag_l_cor', 'CMS_btag_fixedWP_bc':'BTag_b', 'CMS_btag_fixedWP_bc_correlated':'BTag_b_cor', 'CMS_wPt':'wPt', 'CMS_scale_j':'JEC', 'CMS_res_j':'JER', 'CMS_eff_prefiring':'L1prefire', 'CMS_softbtagSF':'softbSF', 'XSec':'Xsec'}

LumiUnc = {
    '2016PreVFP': 0.012,
    '2016PostVFP': 0.012,
    '2017': 0.023,
    '2018': 0.025
    }
CorLumiUnc = {
    '2016PreVFP': 0.006,
    '2016PreVFP': 0.006,
    '2017': 0.009,
    '2018': 0.02,
    }
Cor1718LumiUnc = {
    '2016PreVFP': 0,
    '2016PreVFP': 0,
    '2017': 0.006,
    '2018': 0.002,
    }

ISRUnc = 0.01




SRBins = 108
CRBins = 24

SRBinLabelList = [
    'SR1VLaX',
    'SR1LaX',
    'SR1MaX',
    'SR1HaX',
    'SR1VHaX',
    'SR1VLaY',
    'SR1LaY',
    'SR1MaY',
    'SR1HaY',
    'SR1VHaY',
    'SR1VLbX',
    'SR1LbX',
    'SR1MbX',
    'SR1HbX',
    'SR1VHbX',
    'SR1VLbY',
    'SR1LbY',
    'SR1MbY',
    'SR1HbY',
    'SR1VHbY',
    'SR1LcX',
    'SR1McX',
    'SR1HcX',
    'SR1VHcX',
    'SR1LcY',
    'SR1McY',
    'SR1HcY',
    'SR1VHcY',
    'SR1LdX',
    'SR1MdX',
    'SR1HdX',
    'SR1VHdX',
    'SR1LdY',
    'SR1MdY',
    'SR1HdY',
    'SR1VHdY',
    'SR2VLaX',
    'SR2LaX',
    'SR2MaX',
    'SR2HaX',
    'SR2VHaX',
    'SR2VLaY',
    'SR2LaY',
    'SR2MaY',
    'SR2HaY',
    'SR2VHaY',
    'SR2VLbX',
    'SR2LbX',
    'SR2MbX',
    'SR2HbX',
    'SR2VHbX',
    'SR2VLbY',
    'SR2LbY',
    'SR2MbY',
    'SR2HbY',
    'SR2VHbY',
    'SR2LcX',
    'SR2McX',
    'SR2HcX',
    'SR2VHcX',
    'SR2LcY',
    'SR2McY',
    'SR2HcY',
    'SR2VHcY',
    'SR2LdX',
    'SR2MdX',
    'SR2HdX',
    'SR2VHdX',
    'SR2LdY',
    'SR2MdY',
    'SR2HdY',
    'SR2VHdY',
    'SR3VLaX',
    'SR3LaX',
    'SR3MaX',
    'SR3HaX',
    'SR3VHaX',
    'SR3VLaY',
    'SR3LaY',
    'SR3MaY',
    'SR3HaY',
    'SR3VHaY',
    'SR3VLbX',
    'SR3LbX',
    'SR3MbX',
    'SR3HbX',
    'SR3VHbX',
    'SR3VLbY',
    'SR3LbY',
    'SR3MbY',
    'SR3HbY',
    'SR3VHbY',
    'SR3LcX',
    'SR3McX',
    'SR3HcX',
    'SR3VHcX',
    'SR3LcY',
    'SR3McY',
    'SR3HcY',
    'SR3VHcY',
    'SR3LdX',
    'SR3MdX',
    'SR3HdX',
    'SR3VHdX',
    'SR3LdY',
    'SR3MdY',
    'SR3HdY',
    'SR3VHdY'
]

CRBinLabelList = [
    'CR1aX',
    'CR1aY',
    'CR1bX',
    'CR1bY',
    'CR1cX',
    'CR1cY',
    'CR1dX',
    'CR1dY',
    'CR2aX',
    'CR2aY',
    'CR2bX',
    'CR2bY',
    'CR2cX',
    'CR2cY',
    'CR2dX',
    'CR2dY',
    'CR3aX',
    'CR3aY',
    'CR3bX',
    'CR3bY',
    'CR3cX',
    'CR3cY',
    'CR3dX',
    'CR3dY'
]

CRSRMap = coll.OrderedDict()
CRSRMap['CR1aX'] = ['SR1VLaX', 'SR1LaX', 'SR1MaX', 'SR1HaX', 'SR1VHaX']
CRSRMap['CR1aY'] = ['SR1VLaY', 'SR1LaY', 'SR1MaY', 'SR1HaY', 'SR1VHaY']
CRSRMap['CR1bX'] = ['SR1VLbX', 'SR1LbX', 'SR1MbX', 'SR1HbX', 'SR1VHbX']
CRSRMap['CR1bY'] = ['SR1VLbY', 'SR1LbY', 'SR1MbY', 'SR1HbY', 'SR1VHbY']
CRSRMap['CR1cX'] = ['SR1LcX', 'SR1McX', 'SR1HcX', 'SR1VHcX']
CRSRMap['CR1cY'] = ['SR1LcY', 'SR1McY', 'SR1HcY', 'SR1VHcY']
CRSRMap['CR1dX'] = ['SR1LdX', 'SR1MdX', 'SR1HdX', 'SR1VHdX']
CRSRMap['CR1dY'] = ['SR1LdY', 'SR1MdY', 'SR1HdY', 'SR1VHdY']
CRSRMap['CR2aX'] = ['SR2VLaX', 'SR2LaX', 'SR2MaX', 'SR2HaX', 'SR2VHaX']
CRSRMap['CR2aY'] = ['SR2VLaY', 'SR2LaY', 'SR2MaY', 'SR2HaY', 'SR2VHaY']
CRSRMap['CR2bX'] = ['SR2VLbX', 'SR2LbX', 'SR2MbX', 'SR2HbX', 'SR2VHbX']
CRSRMap['CR2bY'] = ['SR2VLbY', 'SR2LbY', 'SR2MbY', 'SR2HbY', 'SR2VHbY']
CRSRMap['CR2cX'] = ['SR2LcX', 'SR2McX', 'SR2HcX', 'SR2VHcX']
CRSRMap['CR2cY'] = ['SR2LcY', 'SR2McY', 'SR2HcY', 'SR2VHcY']
CRSRMap['CR2dX'] = ['SR2LdX', 'SR2MdX', 'SR2HdX', 'SR2VHdX']
CRSRMap['CR2dY'] = ['SR2LdY', 'SR2MdY', 'SR2HdY', 'SR2VHdY']
CRSRMap['CR3aX'] = ['SR3VLaX', 'SR3LaX', 'SR3MaX', 'SR3HaX', 'SR3VHaX']
CRSRMap['CR3aY'] = ['SR3VLaY', 'SR3LaY', 'SR3MaY', 'SR3HaY', 'SR3VHaY']
CRSRMap['CR3bX'] = ['SR3VLbX', 'SR3LbX', 'SR3MbX', 'SR3HbX', 'SR3VHbX']
CRSRMap['CR3bY'] = ['SR3VLbY', 'SR3LbY', 'SR3MbY', 'SR3HbY', 'SR3VHbY']
CRSRMap['CR3cX'] = ['SR3LcX', 'SR3McX', 'SR3HcX', 'SR3VHcX']
CRSRMap['CR3cY'] = ['SR3LcY', 'SR3McY', 'SR3HcY', 'SR3VHcY']
CRSRMap['CR3dX'] = ['SR3LdX', 'SR3MdX', 'SR3HdX', 'SR3VHdX']
CRSRMap['CR3dY'] = ['SR3LdY', 'SR3MdY', 'SR3HdY', 'SR3VHdY']


scalesigtoacc = False
addInterpolation = False
expectedonly = False
limitmethod  = 'AsymptoticLimits'
